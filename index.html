<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Mi PWA</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>

    <!DOCTYPE html>
    <html>

    <script>
        $(document).ready(function() {
            $('.deleteBtn').click(function() {
                $('input:checked').each(function() {
                    $(this).parent('tr').remove();
                });
            });
        });
    </script>

    <body>

        <p>Tabla1</p>


        <button onclick="createButtons()">Create a task</button>
        <button onclick="deleteRow()">Delete</button>
        <button onclick="changeStatus('tabla')">Complete</button>

        <div id="agn">


        </div>
        <table id="tabla">
            <tr>
                <td><input type="checkbox" /></td>
                <td>TASK NAME</td>
                <td>PRIORITY</td>
                <td></td>
                <td>STATUS</td>
                <td></td>


            </tr>

        </table>
        <br>



        <p id="demo"></p>

        <script>
            function createButtons() {

                var x = document.getElementById('agn');

                x.innerHTML = '<form id="formu"><input id="cell1" type="text" /><select id="cell2" name="OS"><option value="High">High</option> <option value="Medium">Medium</option> <option value="Low">Low</option></select><select id="cell3"<option value="Complete">Complete</option><option value="Pending">Pending</option> </select><button onclick="insRow()">Save</button><button onclick="">Cancel</button></form>';





            }




            function deleteRow() {

                var table = document.getElementById("tabla");


                var index = 1;


                while (index < table.rows.length) {

                    var input = table.rows[index].cells[0].children[0];


                    if (input && input.checked) {

                        table.deleteRow(index);
                    } else {

                        index++;
                    }
                }
            }






            function changeStatus(tableID) {



                var table = document.getElementById(tableID).tBodies[0];

                var rowCount = table.rows.length;



                for (var i = 1; i < rowCount; i++) {
                    var row = table.rows[i];

                    var chkbox = row.cells[3].getElementsByTagName('input')[0];

                    if ('checkbox' == chkbox.type && true == chkbox.checked) {
                        row.cells[4].innerHTML = "complete";

                    }
                }










            }

            function insRow() {
                var x = document.getElementById('tabla').insertRow(document.getElementById('tabla').rows.length);
                var p = x.insertCell(0);
                var task = x.insertCell(1);
                var priority = x.insertCell(2);
                var statusCheck = x.insertCell(3);
                var status = x.insertCell(4);
                var puntos = x.insertCell(5);

                var filas = document.getElementById('tabla').rows.length - 1;

                p.innerHTML = '<input type="checkbox"/>';
                task.innerHTML = "#" + filas + "<label onclick='editar()'/>" + document.getElementById("cell1").value + "</label>";
                priority.innerHTML = document.getElementById("cell2").value;
                statusCheck.innerHTML = '<input  type="checkbox"/>';
                status.innerHTML = document.getElementById("cell3").value;
                puntos.innerHTML = '<select id="cell4" name="OS"><option>...</option><option value="Complete">Complete</option><option value="Pending">Pending</option> </select>';

                var formu = document.getElementById("formu");
                formu.parentNode.removeChild(formu);


            }

            function editar() {
                var table = document.getElementById("tabla").tBodies[0];

                var rowCount = table.rows.length;



                for (var i = 1; i < rowCount; i++) {
                    var row = table.rows[i];

                    var edit = row.cells[1].getElementsByTagName('label')[0].innerHTML;
                    row.cells[1].getElementsByTagName('label')[0].innerHTML = "<input type='text' value='" + edit + "' /></input>";


                }





            }

            function deleteFile() {

                var table = document.getElementById(tableID).tBodies[0];

                var rowCount = table.rows.length;

                for (var i = 1; i < rowCount; i++) {
                    var row = table.rows[i];

                    var chkbox = row.cells[3].getElementsByTagName('input')[0];

                    if ('checkbox' == chkbox.type && true == chkbox.checked) {
                        row.cells[4].innerHTML = "complete";

                    }
                }







            }
        </script>


    </body>

    </html>




    <!-- <script src="js/app.js"></script> -->

</body>

</html>